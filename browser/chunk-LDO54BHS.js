import{a as Y}from"./chunk-INEHA4U7.js";import{a as F,b as V,c as h,d as H,e as T,f as G,g as A,h as B,i as N,m as R,n as j,o as D}from"./chunk-ZNZ7EOVE.js";import{D as v,F as _,G as c,I as b,J as e,K as t,L as o,N as f,O as x,P as r,Q as M,S as w,T as P,U as O,W as k,ga as y,ia as S,ka as z,na as E,q as m,qa as I,r as g,ta as L,w as a,y as u,z as C}from"./chunk-PNWX4PDL.js";import"./chunk-2NFLSA4Y.js";var q=()=>({standalone:!0});function U(i,s){i&1&&(m(),e(0,"svg",5),o(1,"path",40)(2,"path",41),t())}function J(i,s){i&1&&(m(),e(0,"svg",5),o(1,"path",42)(2,"path",43),t())}function K(i,s){if(i&1&&(e(0,"div",44),m(),e(1,"svg",45),o(2,"path",46),t(),g(),e(3,"span"),r(4),t()()),i&2){let l=x();a(4),M(l.error)}}function Q(i,s){i&1&&(e(0,"span",47),m(),e(1,"svg",48),o(2,"path",49),t(),r(3," Iniciar Sesi\xF3n "),t())}function X(i,s){i&1&&(e(0,"span",50),m(),e(1,"svg",51),o(2,"circle",52)(3,"path",53),t(),r(4," Iniciando sesi\xF3n... "),t())}var W=class i{constructor(s,l,n,d){this.fb=s;this.http=l;this.router=n;this.authService=d;this.form=this.fb.group({login:["",h.required],contrasena:["",h.required]})}form;error=null;mostrarContrasena=!1;cargando=!1;recordarme=!1;login(){if(this.form.invalid)return;this.cargando=!0,this.error=null;let s=this.form.value;this.authService.login(s).subscribe({next:l=>{localStorage.setItem("token",l.token),localStorage.setItem("usuarioLogin",this.form.value.login),this.router.navigate(["/foro"]),this.cargando=!1},error:l=>{this.cargando=!1,l.status===401?this.error="Credenciales inv\xE1lidas":this.error="Error al iniciar sesi\xF3n"}})}toggleMostrarContrasena(){this.mostrarContrasena=!this.mostrarContrasena}olvidoContrasena(){this.router.navigate(["/recuperar-contrasena"])}irARegistro(){this.router.navigate(["/registro"])}static \u0275fac=function(l){return new(l||i)(u(R),u(z),u(I),u(Y))};static \u0275cmp=C({type:i,selectors:[["app-login"]],decls:61,vars:16,consts:[[1,"login-wrapper"],[1,"login-container"],[1,"login-header"],[1,"logo-container"],[1,"logo-icon"],["fill","currentColor","viewBox","0 0 20 20"],["d","M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.75 2.524z"],[1,"logo-text"],[1,"subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"field-group"],["for","login",1,"field-label"],["fill","currentColor","viewBox","0 0 20 20",1,"label-icon"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],[1,"input-wrapper"],["id","login","type","text","placeholder","Ingresa tu usuario o correo electr\xF3nico","formControlName","login",1,"field-input"],[1,"input-focus-ring"],["for","contrasena",1,"field-label"],["fill-rule","evenodd","d","M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule","evenodd"],["id","contrasena","placeholder","Ingresa tu contrase\xF1a","formControlName","contrasena",1,"field-input",3,"type"],["type","button",1,"toggle-password",3,"click"],["fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],[1,"form-options"],[1,"checkbox-wrapper"],["type","checkbox",3,"ngModelChange","ngModel","ngModelOptions"],[1,"checkmark"],[1,"checkbox-label"],["href","#",1,"forgot-password",3,"click"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],["class","button-content",4,"ngIf"],["class","loading-content",4,"ngIf"],[1,"login-footer"],[1,"divider"],[1,"signup-prompt"],["href","#",1,"signup-link",3,"click"],[1,"background-decoration"],[1,"decoration-circle","circle-1"],[1,"decoration-circle","circle-2"],[1,"decoration-circle","circle-3"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule","evenodd"],["d","M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"],[1,"error-message"],["fill","currentColor","viewBox","0 0 20 20",1,"error-icon"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"button-content"],["fill","currentColor","viewBox","0 0 20 20",1,"button-icon"],["fill-rule","evenodd","d","M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"loading-content"],["viewBox","0 0 24 24",1,"loading-spinner"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4","fill","none","opacity","0.25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z","opacity","0.75"]],template:function(l,n){if(l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(),e(5,"svg",5),o(6,"path",6),t()(),g(),e(7,"div",7)(8,"h1"),r(9,"ForoWeb"),t(),e(10,"p"),r(11,"Plataforma de Aprendizaje"),t()()(),e(12,"h2"),r(13,"Iniciar Sesi\xF3n"),t(),e(14,"p",8),r(15,"Accede a tu cuenta para continuar"),t()(),e(16,"form",9),f("ngSubmit",function(){return n.login()}),e(17,"div",10)(18,"label",11),m(),e(19,"svg",12),o(20,"path",13),t(),r(21," Usuario o Correo "),t(),g(),e(22,"div",14),o(23,"input",15)(24,"div",16),t()(),e(25,"div",10)(26,"label",17),m(),e(27,"svg",12),o(28,"path",18),t(),r(29," Contrase\xF1a "),t(),g(),e(30,"div",14),o(31,"input",19),e(32,"button",20),f("click",function(){return n.toggleMostrarContrasena()}),v(33,U,3,0,"svg",21)(34,J,3,0,"svg",21),t(),o(35,"div",16),t()(),e(36,"div",22)(37,"label",23)(38,"input",24),O("ngModelChange",function(p){return P(n.recordarme,p)||(n.recordarme=p),p}),t(),o(39,"span",25),e(40,"span",26),r(41,"Recordarme"),t()(),e(42,"a",27),f("click",function(){return n.olvidoContrasena()}),r(43," \xBFOlvidaste tu contrase\xF1a? "),t()(),v(44,K,5,1,"div",28),e(45,"button",29),v(46,Q,4,0,"span",30)(47,X,5,0,"span",31),t()(),e(48,"div",32)(49,"div",33)(50,"span"),r(51,"o"),t()(),e(52,"div",34)(53,"span"),r(54,"\xBFNo tienes una cuenta?"),t(),e(55,"a",35),f("click",function(){return n.irARegistro()}),r(56," Reg\xEDstrate aqu\xED "),t()()()(),e(57,"div",36),o(58,"div",37)(59,"div",38)(60,"div",39),t()()),l&2){let d,p;a(16),c("formGroup",n.form),a(7),b("error-input",((d=n.form.get("login"))==null?null:d.invalid)&&((d=n.form.get("login"))==null?null:d.touched)),a(8),b("error-input",((p=n.form.get("contrasena"))==null?null:p.invalid)&&((p=n.form.get("contrasena"))==null?null:p.touched)),c("type",n.mostrarContrasena?"text":"password"),a(),_("aria-label",n.mostrarContrasena?"Ocultar contrase\xF1a":"Mostrar contrase\xF1a"),a(),c("ngIf",!n.mostrarContrasena),a(),c("ngIf",n.mostrarContrasena),a(4),w("ngModel",n.recordarme),c("ngModelOptions",k(15,q)),a(6),c("ngIf",n.error),a(),c("disabled",n.form.invalid||n.cargando),a(),c("ngIf",!n.cargando),a(),c("ngIf",n.cargando)}},dependencies:[S,y,D,A,V,F,H,T,B,N,L,E,j,G],styles:['[_nghost-%COMP%]{--primary-color: #3b82f6;--primary-hover: #2563eb;--primary-light: #dbeafe;--accent-color: #10b981;--danger-color: #ef4444;--success-color: #22c55e;--text-primary: #1e293b;--text-secondary: #64748b;--text-muted: #94a3b8;--border-color: #e2e8f0;--border-focus: #3b82f6;--background-light: #ffffff;--secondary-color: #f1f5f9;--background-main: linear-gradient(135deg, #4e5c99 0%, #563d6d 100%);--shadow-medium: 0 4px 6px rgba(0, 0, 0, .1);--shadow-large: 0 10px 25px rgba(0, 0, 0, .15);--shadow-xl: 0 25px 50px rgba(0, 0, 0, .25);--border-radius: 12px;--border-radius-large: 16px;--transition: all .3s cubic-bezier(.4, 0, .2, 1)}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--background-main);padding:2rem 1rem;position:relative;overflow:hidden}.login-container[_ngcontent-%COMP%]{width:100%;max-width:450px;background:var(--background-light);border-radius:var(--border-radius-large);box-shadow:var(--shadow-xl);border:1px solid rgba(255,255,255,.2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;z-index:10;animation:_ngcontent-%COMP%_slideInUp .8s cubic-bezier(.34,1.56,.64,1)}.login-header[_ngcontent-%COMP%]{text-align:center;padding:3rem 2.5rem 2rem;border-bottom:1px solid var(--border-color);background:linear-gradient(135deg,var(--background-light) 0%,var(--secondary-color) 100%);border-radius:var(--border-radius-large) var(--border-radius-large) 0 0;position:relative;overflow:hidden}.login-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,var(--primary-color),var(--accent-color))}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--text-primary);margin:0 0 .5rem}.subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem;margin:0}.login-form[_ngcontent-%COMP%]{padding:2.5rem}.field-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.field-label[_ngcontent-%COMP%]{margin-bottom:.75rem;font-weight:600;font-size:.95rem;color:var(--text-primary)}.input-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center}.field-input[_ngcontent-%COMP%]{width:100%;padding:1rem 3rem 1rem 1.25rem;border:2px solid var(--border-color);border-radius:var(--border-radius);font-size:1rem;font-family:inherit;color:var(--text-primary);background:var(--background-light);transition:var(--transition);position:relative;z-index:2}.field-input[_ngcontent-%COMP%]:focus{border-color:var(--border-focus);outline:none;transform:translateY(-1px)}.field-input[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}.field-input.error-input[_ngcontent-%COMP%]{border-color:var(--danger-color);box-shadow:0 0 0 3px #ef44441a}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);cursor:pointer;padding:.25rem;border-radius:4px;transition:var(--transition);z-index:3}.toggle-password[_ngcontent-%COMP%]:hover{color:var(--primary-color);background:var(--primary-light)}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:1rem}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;user-select:none}.checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkmark[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid var(--border-color);border-radius:4px;position:relative;transition:var(--transition)}.checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:var(--primary-color);border-color:var(--primary-color)}.checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:4px;top:1px;width:4px;height:8px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.checkbox-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary)}.forgot-password[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-size:.9rem;font-weight:500;transition:var(--transition)}.forgot-password[_ngcontent-%COMP%]:hover{color:var(--primary-hover);text-decoration:underline}.login-button[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,var(--primary-color),var(--primary-hover));border:none;color:#fff;font-weight:600;font-size:1rem;border-radius:var(--border-radius);cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-medium);margin-bottom:2rem;position:relative;overflow:hidden}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.login-button[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-large)}.login-button[_ngcontent-%COMP%]:disabled{background:var(--text-muted);cursor:not-allowed;transform:none;box-shadow:var(--shadow-medium)}.login-footer[_ngcontent-%COMP%]{padding:0 2.5rem 2.5rem}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin-bottom:1.5rem}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:var(--border-color)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--background-light);padding:0 1rem;color:var(--text-muted);font-size:.9rem;position:relative;z-index:1}.signup-prompt[_ngcontent-%COMP%]{text-align:center;font-size:.95rem;color:var(--text-secondary)}.signup-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600;margin-left:.5rem;transition:var(--transition)}.signup-link[_ngcontent-%COMP%]:hover{color:var(--primary-hover);text-decoration:underline}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(50px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{padding:1rem}.login-container[_ngcontent-%COMP%]{max-width:100%}.login-header[_ngcontent-%COMP%]{padding:2rem 1.5rem 1.5rem}.login-form[_ngcontent-%COMP%]{padding:2rem 1.5rem}.login-footer[_ngcontent-%COMP%]{padding:0 1.5rem 2rem}.form-options[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}@media (max-width: 480px){.login-header[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.login-form[_ngcontent-%COMP%]{padding:1.5rem 1rem}.login-footer[_ngcontent-%COMP%]{padding:0 1rem 1.5rem}.field-input[_ngcontent-%COMP%]{padding:.875rem 1rem;font-size:.95rem}.login-button[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:.95rem}}.field-input.ng-valid.ng-touched[_ngcontent-%COMP%]{border-color:var(--success-color);box-shadow:0 0 0 3px #22c55e1a}.field-input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:var(--danger-color);box-shadow:0 0 0 3px #ef44441a}']})};export{W as LoginComponent};
