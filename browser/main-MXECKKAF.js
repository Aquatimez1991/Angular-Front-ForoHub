import{a as g}from"./chunk-INEHA4U7.js";import{L as m,_ as s,i as a,ja as u,l as n,la as f,ma as l,pa as h,qa as d,ra as A,sa as v,z as c}from"./chunk-PNWX4PDL.js";import"./chunk-2NFLSA4Y.js";var r=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,p){e&1&&m(0,"router-outlet")},dependencies:[h],encapsulation:2})};var C=[{path:"login",loadComponent:()=>import("./chunk-LDO54BHS.js").then(t=>t.LoginComponent)}];var i=class t{constructor(o,e){this.authService=o;this.router=e}canActivate(){let o=this.authService.isAuthenticated();return console.log("AuthGuard - isAuthenticated:",o),o?!0:(console.log("AuthGuard - Redirigiendo a auth/login"),this.router.navigate(["/auth/login"]),!1)}static \u0275fac=function(e){return new(e||t)(n(g),n(d))};static \u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})};var R=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth",children:C},{path:"foro",canActivate:[i],loadChildren:()=>import("./chunk-JD2JFCGA.js").then(t=>t.FORO_ROUTES)},{path:"**",redirectTo:"auth/login"}];var I=(t,o)=>{let e=localStorage.getItem("token");if(e){let p=t.clone({setHeaders:{Authorization:`Bearer ${e}`}});return o(p)}return o(t)};var S={providers:[s({eventCoalescing:!0}),A(R,v()),f(l([I]))]};u(r,S).catch(t=>console.error(t));
